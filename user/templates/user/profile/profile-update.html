{% extends "base/base.html" %}

{% load crispy_forms_tags %}

{% block subheader_buttons %}
    <a class = "btn btn-primary" href = "{% url 'profile-view' request.user.username %}">Cancel</a>
{% endblock subheader_buttons %}

{% block subheader_title %}
    Editing profile
{% endblock subheader_title %}

{% block content %}
    <div class = "m-3">
        <form class = "container needs-validation" method = "POST" action = "{% url 'profile-update' request.user.username %}" enctype = "multipart/form-data">
            {% crispy form %}
            {% for formset in inlines %}
                {{ formset.management_form|crispy }}
                {% for f in formset %}
                    {% for hidden in f.hidden_fields %}
                        {{ hidden }}
                    {% endfor %}
                    {% crispy f %}
                {% endfor %}
            {% endfor %}

            <input class = "btn btn-primary w-100 my-3" type = "submit" value = "Update" />
        </form>
    </div>
{% endblock content %}
