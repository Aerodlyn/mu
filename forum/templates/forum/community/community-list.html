{% extends "base/base.html" %}

{% block subheader_buttons %}
    {% if request.user.is_authenticated %}
        <a class = "btn btn-light" href = "{% url 'community-create' %}" title = "Create new community">
            <!-- https://icons.getbootstrap.com/icons/plus/ -->
            <svg
                xmlns = "http://www.w3.org/2000/svg"
                width = "32"
                height = "32"
                fill = "currentColor"
                class = "bi bi-plus"
                viewBox = "0 0 16 16"
                >
                <path d = "M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
            </svg>
        </a>
    {% endif %}
{% endblock subheader_buttons %}

{% block subheader_title %}
    All communities
{% endblock subheader_title %}

{% block content %}
    <div class = "container my-3">
        <div class = "list-group">
            {% for community in object_list %}
                <a class = "list-group-item list-group-item-action" href = "{% url 'community-view' community.slug %}">
                    {{ community.name }}
                </a>
            {% endfor %}
        </div>

        <nav class = "my-3" aria-label = "Community page naviagation">
            <ul class = "pagination justify-content-center">
                {% if page_obj.has_previous %}
                    <li class = "page-item">
                        <a class = "page-link" href = "?page=1">
                            <!-- https://icons.getbootstrap.com/icons/chevron-double-left/ -->
                            <svg
                                xmlns = "http://www.w3.org/2000/svg"
                                width = "16"
                                height = "16"
                                fill = "currentColor"
                                class = "bi bi-chevron-double-left"
                                viewBox = "0 0 16 16"
                                >
                                <path
                                    fill-rule = "evenodd"
                                    d = "M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
                                    />
                                <path
                                    fill-rule = "evenodd"
                                    d = "M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
                                    />
                            </svg>
                            First
                        </a>
                    </li>
                {% else %}
                    <li class = "page-item disabled">
                        <a class = "page-link" tabindex = "-1" aria-disabled = "true">
                            <!-- https://icons.getbootstrap.com/icons/chevron-double-left/ -->
                            <svg
                                xmlns = "http://www.w3.org/2000/svg"
                                width = "16"
                                height = "16"
                                fill = "currentColor"
                                class = "bi bi-chevron-double-left"
                                viewBox = "0 0 16 16"
                                >
                                <path
                                    fill-rule = "evenodd"
                                    d = "M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
                                    />
                                <path
                                    fill-rule = "evenodd"
                                    d = "M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"
                                    />
                            </svg>
                            First
                        </a>
                    </li>
                {% endif %}

                {% for page in page_obj.paginator.page_range %}
                    {% if page <= page_obj.number|add:2 and page >= page_obj.number|add:-2 %}
                        {% if page == page_obj.number %}
                            <li class = "page-item active" aria-current = "page">
                                <a class = "page-link">{{ page }}</a>
                            </li>
                        {% else %}
                            <li class = "page-item">
                                <a class = "page-link" href = "?page={{ page }}">{{ page }}</a>
                            </li>
                        {% endif %}
                    {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                    <li class = "page-item">
                        <a class = "page-link" href = "?page=last">
                            Last
                            <!-- https://icons.getbootstrap.com/icons/chevron-double-right/ -->
                            <svg
                                xmlns = "http://www.w3.org/2000/svg"
                                width = "16"
                                height = "16"
                                fill = "currentColor"
                                class = "bi bi-chevron-double-right"
                                viewBox = "0 0 16 16"
                                >
                                <path
                                    fill-rule = "evenodd"
                                    d = "M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"
                                    />
                                <path
                                    fill-rule = "evenodd"
                                    d = "M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"
                                    />
                            </svg>
                        </a>
                    </li>
                {% else %}
                    <li class = "page-item disabled">
                        <a class = "page-link" tabindex = "-1" aria-disabled = "true">
                            Last
                            <!-- https://icons.getbootstrap.com/icons/chevron-double-right/ -->
                            <svg
                                xmlns = "http://www.w3.org/2000/svg"
                                width = "16"
                                height = "16"
                                fill = "currentColor"
                                class = "bi bi-chevron-double-right"
                                viewBox = "0 0 16 16"
                                >
                                <path
                                    fill-rule = "evenodd"
                                    d = "M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"
                                    />
                                <path
                                    fill-rule = "evenodd"
                                    d = "M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"
                                    />
                            </svg>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </div>
{% endblock content %}
